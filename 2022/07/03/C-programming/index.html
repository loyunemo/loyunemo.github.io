<!-- build time:Mon Jan 23 2023 15:03:48 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><title>C-programming | LoyuNemo的魔域空间</title><meta name="author" content="LoyuNemo"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="robots" content="index,follow"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="format-detection" content="telphone=no, email=no"><meta name="keywords" content="C-programming"><meta name="description" content="这个是 C 大作业报告。"><meta property="og:type" content="article"><meta property="og:title" content="C-programming"><meta property="og:url" content="https://loyunemo.github.io/2022/07/03/C-programming/index.html"><meta property="og:site_name" content="LoyuNemo的魔域空间"><meta property="og:description" content="这个是 C 大作业报告。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/loyunemo/myimage/create-project.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/loyunemo/myimage/result1.png"><meta property="article:published_time" content="2022-07-03T01:01:51.000Z"><meta property="article:modified_time" content="2022-12-11T10:10:43.390Z"><meta property="article:author" content="LoyuNemo"><meta property="article:tag" content="C-programming"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/loyunemo/myimage/create-project.png"><link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" media="all"><link rel="stylesheet" id="darkmode-css" href="/css/kr-color-dark.min.css" media="(prefers-color-scheme:dark)"><script src="/js/kr-dark.min.js"></script><link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" media="all"><link rel="stylesheet" id="fontawe-css" href="/vendors/font-awesome@4.7.0/css/font-awesome.min.css" media="all"><link rel="stylesheet" id="nprogress-css" href="/vendors/nprogress@0.2.0/nprogress.css" media="all"><link rel="stylesheet" href="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><script src="/vendors/jquery@3.6.0/dist/jquery.min.js"></script><script src="/vendors/qrcode_js@1.0.0/qrcode.min.js"></script><style>.kratos-cover.kratos-cover-2{background-image:url(/images/banner.webp)}@media(min-width:768px){body.custom-background{background-image:url(/images/bg.webp)}}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body class="custom-background"><div id="kratos-wrapper"><div id="kratos-page"><div id="kratos-header"><header id="kratos-desktop-topnav" class="kratos-topnav"><div class="container"><div class="nav-header"><nav id="kratos-menu-wrap"><ul id="kratos-primary-menu" class="sf-menu"><li><a href="/"><i class="fa fa-home"></i>首页</a></li><li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li><li><a href="/friends/"><i class="fa fa-paw"></i>好伙伴</a></li><li><a><i class="fa fa-link"></i>链接</a><ul class="sub-menu"><li><a href="https://loyunemo.github.io">作者博客</a></li><li><a target="_blank" rel="noopener" href="https://github.com/loyunemo/loyunemo.github.io">项目链接</a></li></ul></li></ul></nav></div></div></header><header id="kratos-mobile-topnav" class="kratos-topnav"><div class="container"><div class="color-logo"><a href="/">LoyuNemo的魔域空间</a></div><div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div></div></header></div><div class="kratos-start kratos-hero-2"><div class="kratos-cover kratos-cover-2 text-center"><div class="desc desc2 animate-box"><a href="/"><h2>LoyuNemo的魔域空间</h2><br><span></span></a></div></div></div><div id="kratos-blog-post"><div class="container"><div id="main" class="row"><section class="col-md-8"><article itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://loyunemo.github.io/2022/07/03/C-programming/"><div class="kratos-hentry kratos-post-inner clearfix"><header class="kratos-entry-header"><h1 class="kratos-entry-title text-center" itemprop="name headline">C-programming</h1><ul class="kratos-post-meta text-center"><li><time datetime="2022-07-03T01:01:51.000Z" itemprop="datePublished"><i class="fa fa-calendar"></i> 2022-07-03</time></li><li itemprop="author" itemscope itemtype="https://schema.org/Person"><i class="fa fa-user"></i> 作者 <span itemprop="name">LoyuNemo</span></li><li><i class="fa fa-edit"></i> ~8.89K 字</li></ul></header><div class="kratos-post-content"><div id="expire-alert" class="alert alert-warning hidden" role="alert"><div class="icon"><i class="fa fa-warning"></i></div><div class="text"><p>本文最后编辑于 <time datetime="1670753443390"></time> 前，其中的内容可能需要更新。</p></div></div><hr><div itemprop="articleBody"><p>这个是 C 大作业报告。<br><span id="more"></span></p><h1 id="专题2-图形交互编程-一些基本的吐槽"><a class="anchor" href="#专题2-图形交互编程-一些基本的吐槽">#</a> 专题 2 - 图形交互编程 - 一些基本的吐槽</h1><p>=======================================================================<br>不得不说图形库编程这就是个纯粹的机械操作，看懂完代码和一些基本的运行架构就能直接上手，说到底就不过是换了个东西帮你画图，其实没啥技术含量，<s>一个美观的 UI 界面和花里胡哨的功能才是重点</s>（<strong>BUSHI</strong>)</p><p>其次，老师发的示例基本上拥有了所有需要的东西，所以只要看懂代码在这个基础上<s>魔改</s>就能实现自己想要的效果（不是）。<br>不管怎么说，在这个内卷成风的课程班级，***（更多的是自己没听）*** 图形的交互编程这一关对自己来讲属实折磨。<br>算了，言归正传。</p><hr><h1 id="第一步环境配置"><a class="anchor" href="#第一步环境配置">#</a> 第一步：环境配置</h1><hr><p>这里采用了最古早版本的 graphics 图形库进行绘制操作。<br>由于个人嫌 <code>visual studio</code> 配置起来太麻烦了，这里还是选择偷了个懒，直接用老师给的 DEV-C++ 进行处理（毕竟现成的样例程序实在是太香了）。<br>如果是自己配置的话，选择 <code>文件-新建-项目</code> ，按如下配置来创建:（<s>净是废话</s>）<br><img src="https://cdn.jsdelivr.net/gh/loyunemo/myimage/create-project.png" alt="创建项目"><br>之后在显示项目名称下面（左边的项目管理）创建 include 和 libgraphics 两个文件夹分别用来存放 C HEADER 文件和 C 源文件，以及一个 main.c 的主程序。将老师给的的 main.c 程序内容完全复制一遍，替换系统给的内容（没错就是这么粗暴，跟复制没啥区别），并将库内容按照存放方式分别添加到 include 和 libgraphics 文件夹之中。（右键文件夹 - 添加，选择相应的文件加入）<br>主要在配置的时候需要注意：<br>要到项目 - 项目属性这里去设置一下文件 / 目录，将 include 添加到包含文件目录中。<br>由于这里采用的库头文件还是比较多的，所以自己习惯性地写一个 global.h 文件来包含所有的头文件，然后 main 和自己新创建的计算曲线函数文件、画图功能文件就直接 <code>#include&quot;global.h&quot;</code> 就完事了，不用一个一个添加，不过要把相应的头文件加到 global.h 里面去。</p><h1 id="第二步画图基本函数"><a class="anchor" href="#第二步画图基本函数">#</a> 第二步，画图基本函数：</h1><p>void MovePen (double x, double y): 移动画笔坐标但不进行绘制，移动至指定的 (x,y) 点，是绝对位置；<br>void DrawLine (double dx, double dy)：在当前画笔位置上绘制并移动画笔，相对移动的 x、y 坐标分别为：dx、dy</p><h1 id="第三步实现project1"><a class="anchor" href="#第三步实现project1">#</a> 第三步，实现 project1</h1><hr><p>project1 主要是设计一个绘制系统，画一个图。这个 em 其实简单到我都不好意思拿上去展示了（这分绝对很低啊）<br>主要的实现关键是要设置一个 extern double 类型的数据，记录画笔目前朝向的角度，extern 主要是为了让多文件的情况下主函数能够访问角度数据，这样方便自己建立相应的.c 文件和 c header 文件，将所有自己写的函数写在里面，方便以后要用时可以方便迁移调用。各个函数代码如下：</p><h2 id="方向笔"><a class="anchor" href="#方向笔">#</a> 方向笔：</h2><p></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">forward</span><span class="params">(<span class="type">double</span> distance)</span><span class="comment">/*向当前画笔方向画distance的距离*/</span></span><br><span class="line">&#123; </span><br><span class="line">    <span class="type">double</span> x,y;</span><br><span class="line">	x=distance*<span class="built_in">cos</span>(anglenatnow/<span class="number">180.0</span>*PI) ;</span><br><span class="line">	y=distance*<span class="built_in">sin</span>(anglenatnow/<span class="number">180.0</span>*PI) ;</span><br><span class="line">	DrawLine(x,y);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="画笔转向"><a class="anchor" href="#画笔转向">#</a> 画笔转向</h2><p></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">turn</span> <span class="params">(<span class="type">double</span> angle)</span><span class="comment">/*将画笔旋转angle角度*/</span></span><br><span class="line">&#123;</span><br><span class="line">	anglenatnow+=angle;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="连接两点"><a class="anchor" href="#连接两点">#</a> 连接两点</h2><p></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">drawconnect</span><span class="params">(<span class="type">double</span> x1,<span class="type">double</span> y1,<span class="type">double</span> x2,<span class="type">double</span> y2)</span>.<span class="comment">/*将坐标(x1，y1),(x2,y2)的两个点连起来*/</span></span><br><span class="line">&#123;</span><br><span class="line">    nowpoint now;</span><br><span class="line">    now.x=GetCurrentX();</span><br><span class="line">    now.y=GetCurrentY();</span><br><span class="line">    MovePen(x1,y1);</span><br><span class="line">    DrawLine(x2-x1,y2-y1);</span><br><span class="line">    MovePen(now.x,now.y);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">move</span><span class="params">(<span class="type">double</span> distance)</span><span class="comment">/*向画笔当前方移动一段距离但不划线*/</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">double</span> x,y;</span><br><span class="line">	x=GetCurrentX()+distance*<span class="built_in">cos</span>(anglenatnow/<span class="number">180.0</span>*PI) ;</span><br><span class="line">	y=GetCurrentY()+distance*<span class="built_in">sin</span>(anglenatnow/<span class="number">180.0</span>*PI) ;</span><br><span class="line">	MovePen(x,y);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="最后绘图"><a class="anchor" href="#最后绘图">#</a> 最后绘图</h2><p>图没什么好讲的，就是用之前做的系统做个绘制单元，然后一个旋转循环就能出来。<br>代码如下：<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Hexagon</span><span class="params">()</span><span class="comment">/*完成一个六边形单元之后旋转18次并绘图即可*/</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	turn(<span class="number">90.0</span>);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">	&#123;</span><br><span class="line">	forward(<span class="number">1.0</span>);</span><br><span class="line">	turn(<span class="number">-60.0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	turn(<span class="number">-60.0</span>);</span><br><span class="line">	forward(<span class="number">1.0</span>);</span><br><span class="line">	turn(<span class="number">60.0</span>);</span><br><span class="line">	forward(<span class="number">1.0</span>);</span><br><span class="line">	move(<span class="number">-1.0</span>);</span><br><span class="line">	turn(<span class="number">-120.0</span>);</span><br><span class="line">	forward(<span class="number">1.0</span>);</span><br><span class="line">	turn(<span class="number">30.0</span>);</span><br><span class="line">	MovePen(GetWindowWidth()/<span class="number">2</span>,GetWindowHeight()/<span class="number">2</span>);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="实现效果"><a class="anchor" href="#实现效果">#</a> 实现效果</h2><p>(左边是我自己画的当时还没设置笔颜色)<br><img src="https://cdn.jsdelivr.net/gh/loyunemo/myimage/result1.png" alt="画图结果1"></p><h1 id="第四步实现贝塞尔曲线"><a class="anchor" href="#第四步实现贝塞尔曲线">#</a> 第四步，实现贝塞尔曲线</h1><hr><p><s>属实是自己的迷惑行为大赏</s><br>这边链接百度百科上的介绍：<br><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF/1091769?fr=aladdin">贝塞尔曲线</a><br>自己最后还是做了简单的四点的贝塞尔曲线。公式如下：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>3</mn></msub><mtext>是给定的四个点</mtext></mrow><annotation encoding="application/x-tex">P_0,P_1,P_2,P_3是给定的四个点</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord cjk_fallback">是</span><span class="mord cjk_fallback">给</span><span class="mord cjk_fallback">定</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">四</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">点</span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.15999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>B</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>P</mi><mn>0</mn></msub><mo>⋅</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mn>3</mn></msup><mo>+</mo><mn>3</mn><mo>⋅</mo><msub><mi>P</mi><mn>1</mn></msub><mo>⋅</mo><mi>t</mi><mo>⋅</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mn>3</mn><mo>⋅</mo><msub><mi>P</mi><mn>2</mn></msub><mo>⋅</mo><msup><mi>t</mi><mn>2</mn></msup><mo>⋅</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>P</mi><mn>3</mn></msub><mo>⋅</mo><msup><mi>t</mi><mn>3</mn></msup><mo separator="true">,</mo><mi>t</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin {array}{c}B(t)=P_0\cdot(1-t)^3+3\cdot P_1\cdot t\cdot(1-t)^2+3\cdot P_2\cdot t^2\cdot(1-t)+P_3\cdot t^3,t\in[0,1]\end {array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2000000000000002em;vertical-align:-.35000000000000003em"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8500000000000001em"><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">3</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">3</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.35000000000000003em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span></span></span></span></span></span></span></p><p>所以相当于是直接形成了一个关于 t 的参数方程，只要把四个点的横纵坐标知道就可以推算出点上所有坐标了。<br>自己主要的想法就是，将 t 在 0 到 1 之间均匀分成 100 份，每个 t 确定一个点，然后将相邻的参数 t 和 t+1 用直线连接起来，以直代曲完成曲线的一个粗略模拟。如果想要拟合的更好，只要更改参数，设置取样点个数就可以了。可以 100、1000、10000 的取样点，往上设置相应地，计算量也会上去。但模拟得会更加精确。<br>如果说想要完成<br>在经过一个下午加一个晚上的<s>爆肝</s>后对代码进行了更新，实现了可以给定点的个数后输入点的坐标，实现不同点的个数的贝塞尔曲线绘制。<br>这里采用的公式是：n 点的贝塞尔曲线：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.15999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>B</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mi>n</mi></msubsup><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>i</mi></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><msub><mi>P</mi><mi>i</mi></msub><mo>⋅</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mrow><mi>n</mi><mo>−</mo><mi>i</mi></mrow></msup><mo>⋅</mo><msup><mi>t</mi><mi>i</mi></msup><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><msub><mi>P</mi><mn>0</mn></msub><mo>⋅</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mi>n</mi></msup><mo>⋅</mo><msup><mi>t</mi><mn>0</mn></msup><mo>+</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><msub><mi>P</mi><mn>1</mn></msub><mo>⋅</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>⋅</mo><msup><mi>t</mi><mn>1</mn></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin {array}{c} B(t)=\sum\limits_{i=0} \limits^{n} \begin{pmatrix} n\\ i \end{pmatrix}P_i\cdot (1-t)^{n-i}\cdot t^i = \begin{pmatrix} n\\ 0 \end{pmatrix} P_0\cdot (1-t)^n\cdot t^0 + \begin{pmatrix} n\\ 1 \end{pmatrix} P_1\cdot (1-t)^{n-1}\cdot t^1 \end {array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.427669em;vertical-align:-.9638344999999999em"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4638345em"><span style="top:-3.4638345em"><span class="pstrut" style="height:3.45em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3513970000000004em"><span style="top:-2.122331em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.0000050000000003em"><span class="pstrut" style="height:3em"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.950005em;margin-left:0"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9776689999999999em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-2.4099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9500000000000004em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.31166399999999994em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.824664em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.824664em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-2.4099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9500000000000004em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.664392em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-2.4099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9500000000000004em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9638344999999999em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.15999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>+</mo><mo>⋅</mo><mo>⋅</mo><mo>⋅</mo><mo>+</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><msub><mi>P</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>⋅</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><msup><mo stretchy="false">)</mo><mn>1</mn></msup><mo>⋅</mo><msup><mi>t</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>t</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin {array}{c} + \cdot\cdot\cdot + \begin{pmatrix} n\\ n-1 \end{pmatrix} P_{n-1}\cdot (1-t)^{1}\cdot t^{n-1},t\in[0,1] \end {array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-.9500149999999999em"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.450015em"><span style="top:-3.450015em"><span class="pstrut" style="height:3.45em"></span><span class="mord"><span class="mord">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">+</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-2.4099999999999997em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9500000000000004em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.301108em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.208331em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord mathnormal">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.9500149999999999em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span></span></span></span></span></span></span></p><h1 id="第五步实现交互"><a class="anchor" href="#第五步实现交互">#</a> 第五步，实现交互</h1><hr><p>这里实现的主要操作就是对老师的代码进行<s>魔改</s>。<br>老师定义了一个结构体 BoxT，用来存储 <code>拖拽事件相应情况</code> ， <code>控制点大小</code> 和 <code>坐标</code> 。<br>示例的拖拽程序中，只有一个控制点和一条原点出发到达拖拽点的直线，为了实现效果，自己要对其进行改动，将控制点由单个变量改为数组，用来实现多个控制点的效果。<br>这里自己删除了老师给的 InitScene () 这个初始化函数（没必要），对 SetBox ()、SetSizeBox ()、StartDragging () 添加了调用的形参，对 InBox ()、EndDragging ()、RenderBox ()、OnPaint () 进行了逻辑的改动，让整个绘制控制系统支持多个控制点的绘制和控制。<br>老师给的代码：<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BoxT</span>&#123;</span></span><br><span class="line">	<span class="type">double</span> cx;</span><br><span class="line">	<span class="type">double</span> cy;</span><br><span class="line">	<span class="type">double</span> size;</span><br><span class="line">	<span class="type">char</span> dragging;</span><br><span class="line">&#125; g_box;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PointT</span>&#123;</span></span><br><span class="line">	<span class="type">double</span> x;</span><br><span class="line">	<span class="type">double</span> y;</span><br><span class="line">&#125;g_dragstart;</span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">InitScene</span><span class="params">()</span>&#123;</span><br><span class="line">	g_box.cx = <span class="number">0</span>;</span><br><span class="line">	g_box.cy = <span class="number">0</span>;</span><br><span class="line">	g_box.size = <span class="number">0.2</span>;</span><br><span class="line">	g_box.dragging = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">SetBox</span><span class="params">(<span class="type">double</span> cx, <span class="type">double</span> cy)</span>&#123;</span><br><span class="line">	g_box.cx = cx;</span><br><span class="line">	g_box.cy = cy;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">SetSizeBox</span><span class="params">(<span class="type">double</span> cx, <span class="type">double</span> cy, <span class="type">double</span> size)</span>&#123;</span><br><span class="line">	g_box.cx = cx; </span><br><span class="line">	g_box.cy = cy;</span><br><span class="line">	g_box.size = size; </span><br><span class="line">&#125; </span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">InBox</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y)</span>&#123;	</span><br><span class="line">	<span class="keyword">return</span> x &gt;= g_box.cx &amp;&amp; x &lt;= g_box.cx + g_box.size &amp;&amp; y &gt;= g_box.cy &amp;&amp; y &lt;= g_box.cy + g_box.size;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">StartDragging</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y)</span>&#123;</span><br><span class="line">	g_box.dragging = <span class="number">1</span>;</span><br><span class="line">	g_dragstart.x = g_box.cx - x;</span><br><span class="line">	g_dragstart.y = g_box.cy - y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">EndDragging</span><span class="params">()</span>&#123;	</span><br><span class="line">	g_box.dragging = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">RenderBox</span><span class="params">(<span class="keyword">struct</span> BoxT* box)</span>&#123;</span><br><span class="line">	SetPenColor(box-&gt;dragging?<span class="string">&quot;Red&quot;</span>:<span class="string">&quot;Black&quot;</span>); 	</span><br><span class="line">    SetPenSize(box-&gt;dragging?<span class="number">2</span>:<span class="number">1</span>);</span><br><span class="line">	DrawBox(box-&gt;cx, box-&gt;cy, box-&gt;size, box-&gt;size);	</span><br><span class="line">&#125;<span class="comment">/*拖拽控制点时的控制变化*/</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">OnPaint</span><span class="params">()</span>&#123;</span><br><span class="line">	ClearWindow();		    </span><br><span class="line">    RenderBox(&amp;g_box);        </span><br><span class="line">    MovePen(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	DrawLineTo(g_box.cx, g_box.cy);</span><br><span class="line">&#125;<span class="comment">/*刷新绘制界面*/</span></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">OnMouse</span> <span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> button, <span class="type">int</span> event)</span>&#123;	</span><br><span class="line">	<span class="type">double</span> sx, sy;</span><br><span class="line">	sx = WindowX(x);</span><br><span class="line">	sy = WindowY(y);</span><br><span class="line">	<span class="keyword">if</span>(button == LEFT_BUTTON &amp;&amp; event == BUTTON_DOWN)&#123;				</span><br><span class="line">		<span class="keyword">if</span>(InBox(sx, sy))&#123;</span><br><span class="line">			StartDragging(sx, sy);</span><br><span class="line">			RefreshWindow();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (button == LEFT_BUTTON &amp;&amp; event == BUTTON_UP)&#123;</span><br><span class="line">		EndDragging();</span><br><span class="line">		RefreshWindow();</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (g_box.dragging &amp;&amp; event == MOUSEMOVE)&#123;				</span><br><span class="line">		SetBox(sx + g_dragstart.x, sy + g_dragstart.y);</span><br><span class="line">		RefreshWindow();			</span><br><span class="line">	&#125;</span><br><span class="line">&#125;<span class="comment">/*鼠标响应事件判断*/</span></span><br></pre></td></tr></table></figure><br>改动的主要逻辑是：<br>1. 让 InBox () 在不同的控制点内返回不同的值。<br>通过一个 for 循环，判断在第几个点内，便返回相应的数组下标值，告诉系统去更改相应的控制点的绘制情况。<br>如果判断出来鼠标不在控制点内，即 for 循环的变量不满足循环条件跳出循环时，就返回 - 1。<br>2. 让 SetBox ()、SetSizeBox ()、StartDragging ()、OnMouse () 这几个函数去根据返回值更新相应控制点的情况，设置控制点中心的坐标。<br>3.OnPaint () 函数中，将刷新绘制直线改为绘制贝塞尔曲线。同时将原来单个的控制点判断改为一个循环，对所有的控制点点击情况进行判断。<br>4. 为了看起来美观，自己挪移了贝塞尔曲线的位置并改动了相应的坐标，让它到中间的一个指定位置，然后绘制了相应的坐标系，并在控制台中打印了相应控制点的坐标。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">SetBox</span><span class="params">(<span class="type">double</span> cx, <span class="type">double</span> cy,<span class="type">int</span> i)</span>&#123;</span><br><span class="line">	g_box[i].cx = cx;</span><br><span class="line">	g_box[i].cy = cy;</span><br><span class="line">&#125;<span class="comment">/*设置点的坐标*/</span> </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">SetSizeBox</span><span class="params">(<span class="type">double</span> cx, <span class="type">double</span> cy, <span class="type">double</span> size,<span class="type">int</span> i)</span>&#123;</span><br><span class="line">	g_box[i].cx = cx; j</span><br><span class="line">	g_box[i].cy = cy;</span><br><span class="line">	g_box[i].size = size; </span><br><span class="line">&#125; <span class="comment">/*设置控制点的大小*/</span> </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">InBox</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y)</span>&#123;	</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;numberofpoint;i++)</span><br><span class="line">	&#123;<span class="keyword">if</span>(x &gt;= g_box[i].cx-g_box[i].size/<span class="number">2</span> &amp;&amp; x &lt;= g_box[i].cx + g_box[i].size/<span class="number">2</span> &amp;&amp; y &gt;= g_box[i].cy-g_box[i].size/<span class="number">2</span>&amp;&amp; y &lt;= g_box[i].cy + g_box[i].size/<span class="number">2</span>)</span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(i==numberofpoint)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	</span><br><span class="line">&#125;<span class="comment">/*在哪个点内的判断*/</span> </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">StartDragging</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y,<span class="type">int</span> i)</span>&#123;</span><br><span class="line">	g_box[i].dragging = <span class="number">1</span>;</span><br><span class="line">	g_dragstart.x = g_box[i].cx - x;</span><br><span class="line">	g_dragstart.y = g_box[i].cy - y;</span><br><span class="line">&#125;<span class="comment">/*开始拖拽方块*/</span> </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">EndDragging</span><span class="params">()</span>&#123;	</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;numberofpoint;i++)</span><br><span class="line">	g_box[i].dragging = <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">/*停止拖拽*/</span> </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">RenderBox</span><span class="params">(BoxT* box)</span>&#123;</span><br><span class="line">	SetPenColor(box-&gt;dragging?<span class="string">&quot;Red&quot;</span>:<span class="string">&quot;Black&quot;</span>); 	</span><br><span class="line">    SetPenSize(box-&gt;dragging?<span class="number">2</span>:<span class="number">1</span>);</span><br><span class="line">	DrawBox(box-&gt;cx, box-&gt;cy, box-&gt;size, box-&gt;size);	</span><br><span class="line">&#125; <span class="comment">/*点击时候的正方形状态切换*/</span> </span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">OnPaint</span><span class="params">()</span>&#123;</span><br><span class="line">	ClearWindow();</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;numberofpoint;i++)</span><br><span class="line">	RenderBox(&amp;g_box[i]);</span><br><span class="line">	SetPenColor(<span class="string">&quot;Black&quot;</span>);</span><br><span class="line">	SetPenSize(<span class="number">1</span>);</span><br><span class="line">	asis();</span><br><span class="line">	MovePen(g_box[<span class="number">0</span>].cx,g_box[<span class="number">0</span>].cy);        </span><br><span class="line">    createbezier(g_box,numberofpoint);</span><br><span class="line">&#125; <span class="comment">/*刷新作图绘制*/</span> </span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">OnMouse</span> <span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> button, <span class="type">int</span> event)</span>&#123;	</span><br><span class="line">	<span class="type">double</span> sx, sy;</span><br><span class="line">	sx = WindowX(x);</span><br><span class="line">	sy = WindowY(y);</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(button == LEFT_BUTTON &amp;&amp; event == BUTTON_DOWN)&#123;				</span><br><span class="line">		<span class="keyword">if</span>(InBox(sx, sy)&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">			StartDragging(sx, sy,InBox(sx, sy));</span><br><span class="line">			RefreshWindow();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (button == LEFT_BUTTON &amp;&amp; event == BUTTON_UP)&#123;</span><br><span class="line">		EndDragging(InBox(sx, sy));</span><br><span class="line">		RefreshWindow();</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (g_box[InBox(sx, sy)].dragging &amp;&amp; event == MOUSEMOVE)&#123;				</span><br><span class="line">		<span class="comment">//ClearRect(g_box.cx, g_box.cy, g_box.size);</span></span><br><span class="line">		SetBox(sx + g_dragstart.x, sy + g_dragstart.y,InBox(sx, sy));</span><br><span class="line">		RefreshWindow();			</span><br><span class="line">	&#125;</span><br><span class="line">&#125; <span class="comment">/*鼠标事件的响应与判断*/</span> </span><br></pre></td></tr></table></figure><p></p><h1 id="界面优化及其他相关"><a class="anchor" href="#界面优化及其他相关">#</a> 界面优化及其他相关</h1><hr><p>回到主程序，通过初始化相关的设定完成界面设定，然后通过<br><code>rgisterOnPaintEvent(OnPaint);</code><br><code>registerMouseEvent(OnMouse);</code><br>两个函数读取相应的数据，进行界面的响应和函数值的反馈。</p><h1 id="一些不足的地方"><a class="anchor" href="#一些不足的地方">#</a> 一些不足的地方：</h1><hr><p>1. 控制点创建的还是有上限，而且由于未采用高精度算法，可创建点 y 有限。<br>2. 坐标系的绘制是基于一开始的创建窗口情况画的，如果扩大了窗口范围会看到坐标系缺失的地方<br>3. 缺乏相应的标识来提醒用户控制点的排列顺序，诸如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>P</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">P_1,P_2,P_3,P_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8777699999999999em;vertical-align:-.19444em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:-.13889em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 之类的标识点。<br>4. 响应不及时，屏幕会出现暂时白屏的情况，需要局部刷新提高运算速度。</p></div></div><div class="kratos-copyright text-center clearfix"><h5 itemprop="copyrightNotice">本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5></div><footer class="kratos-entry-footer clearfix"><div class="post-like-donate text-center clearfix" id="post-like-donate"><a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a><div class="share-wrap" style="display:none"><div class="share-group"><a href="javascript:;" class="share-plain qq" onclick='share("qq")' rel="nofollow"><div class="icon-wrap"><i class="fa fa-qq"></i></div></a><a href="javascript:;" class="share-plain qzone" onclick='share("qzone")' rel="nofollow"><div class="icon-wrap"><i class="fa fa-star"></i></div></a><a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow"><div class="icon-wrap"><i class="fa fa-weixin"></i></div><div class="share-int"><div class="qrcode" id="wechat-qr"></div><p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p></div></a><a href="javascript:;" class="share-plain weibo" onclick='share("weibo")' rel="nofollow"><div class="icon-wrap"><i class="fa fa-weibo"></i></div></a><a href="javascript:;" class="share-plain facebook style-plain" onclick='share("facebook")' rel="nofollow"><div class="icon-wrap"><i class="fa fa-facebook"></i></div></a><a href="javascript:;" class="share-plain twitter style-plain" onclick='share("twitter")' rel="nofollow"><div class="icon-wrap"><i class="fa fa-twitter"></i></div></a></div><script type="text/javascript">$(()=>{
            new QRCode("wechat-qr", {
                text: "https://loyunemo.github.io/2022/07/03/C-programming/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "https://loyunemo.github.io/2022/07/03/C-programming/";
            const title         = "「C-programming」";
            const excerpt       = `这个是 C 大作业报告。`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };</script></div></div><div class="footer-tag clearfix"><div class="pull-left"><i class="fa fa-tags"></i> <a class="tag-none-link" href="/tags/C-programming/" rel="tag">C-programming</a></div><div class="pull-date"><time datetime="2022-12-11T10:10:43.390Z" itemprop="dateModified">最后编辑：2022-12-11</time></div></div></footer></div><nav class="navigation post-navigation clearfix" role="navigation"><div class="nav-previous clearfix"><a title=" test" href="/2022/07/02/test/">&lt; 上一篇</a></div><div class="nav-next clearfix"><a title=" instruction" href="/2022/07/11/instruction/">下一篇 &gt;</a></div></nav></article></section><section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm"><aside id="krw-about" class="widget widget-kratos-about clearfix"><div class="photo-background"></div><div class="photo-wrapper clearfix"><div class="photo-wrapper-tip text-center"><img class="about-photo" src="/images/avatar.webp" loading="lazy" decoding="auto"></div></div><div class="textwidget"><p class="text-center"></p></div><div class="site-meta"><a class="meta-item" href="/archives/"><span class="title">文章 </span><span class="count">10 </span></a><a class="meta-item" href="/categories/"><span class="title">分类 </span><span class="count">3 </span></a><a class="meta-item" href="/tags/"><span class="title">标签 </span><span class="count">5</span></a></div></aside><div class="sticky-area"><aside id="krw-categories" class="widget widget-kratos-categories clearfix"><h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C-programming/">C-programming</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Demo/">Demo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/takedown/">takedown</a><span class="category-list-count">1</span></li></ul></aside><aside id="krw-tags" class="widget widget-kratos-tags clearfix"><h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4><div class="tag-clouds"><a href="/tags/C-programming/" style="font-size:.6em">C-programming</a> <a href="/tags/daily/" style="font-size:.6em">daily</a> <a href="/tags/test/" style="font-size:.6em">test</a> <a href="/tags/%E6%B8%B8%E8%AE%B0/" style="font-size:.6em">游记</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size:.6em">随笔</a></div></aside><aside id="krw-posts" class="widget widget-kratos-posts"><h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4><div class="tab-content"><ul class="list-group"><a class="list-group-item" href="/2023/01/22/quantity-physics1/"><i class="fa fa-book"></i> quantity-physics1</a> <a class="list-group-item" href="/2023/01/22/quantity-physics0/"><i class="fa fa-book"></i> quantity-physics0</a> <a class="list-group-item" href="/2023/01/09/ML1/"><i class="fa fa-book"></i> ML1</a> <a class="list-group-item" href="/2022/12/01/hello-world/"><i class="fa fa-book"></i> Hello World</a> <a class="list-group-item" href="/2022/11/17/start/"><i class="fa fa-book"></i> start</a></ul></div></aside></div></section></div></div></div><footer><div id="footer"><div class="container"><div class="row"><div class="col-md-6 col-md-offset-3 footer-list text-center"><ul class="kratos-social-icons"><li><a target="_blank" rel="me" href="https://Nemos/@Loyunemo"><i class="fa fa fa-share-alt-square"></i></a></li><li><a target="_blank" rel="nofollow" href="https://github.com/loyunemo"><i class="fa fa-github"></i></a></li></ul><ul class="kratos-copyright"><div><li>&copy; 2023 LoyuNemo的魔域空间 版权所有.</li><li>本站已运行<span id="span_dt">Loading...</span></li></div><div><li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li><li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by LoyuNemo.</li></div><div><li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li><li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li></div><div></div></ul></div></div></div><div class="kr-tool text-center"><div class="tool"><div class="box search-box"><a href="/search/"><span class="fa fa-search"></span></a></div><div class="box theme-box" id="darkmode-switch"><span class="fa fa-adjust"></span></div></div><div class="box gotop-box"><span class="fa fa-chevron-up"></span></div></div></div></footer></div></div><script defer src="/vendors/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script><script defer src="/vendors/nprogress@0.2.0/nprogress.js"></script><script>window.kr||(window.kr={}),window.kr.notMobile=!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),window.kr.siteRoot="/"</script><script async src="/js/candy.min.js"></script><script defer src="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script defer src="/vendors/clipboard@2.0.6/dist/clipboard.min.js"></script><script defer src="/js/kratosr.min.js"></script><script defer src="/js/pjax.min.js"></script></body></html><!-- rebuild by hrmmi -->